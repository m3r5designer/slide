/* SLIDE v3 (c) 2013 Max King Reice | m3r5designs.com*/(function(e,t){e.fn.slideIt=function(n){function p(e){setTimeout(function(){i.next(".thumbnails").children(".thumbsActive").removeClass("thumbsActive");i.next(".thumbnails").children().eq(i.children(".slideActive").index()-i.children().not(".aSlide").length).addClass("thumbsActive")},e)}var r={height:"50%",thumbnails:false,navigation:false,overlayer:false,autoPlay:false,pausePlayOnClick:false,easing:"easeInOutExpo",time:5e3,transitionTime:1e3};var n=e.extend({},r,n),i=e(this);e(".aSlide:first-child").addClass("slideActive");n.time=n.time+n.transitionTime;if(n.height.indexOf("%")!=-1){var s=i.width(),o=parseFloat(n.height)/100;s=s*o;i.css({height:s});e(t).resize(function(){var e=i.width(),t=parseFloat(n.height)/100;e=e*t;i.css({height:e})})}else if(n.height=="window"){if(n.thumbnails==true){o=e(t).height();o=o-80}else{o=e(t).height()}i.css({height:o});e(t).resize(function(){if(n.thumbnails==true){o=e(t).height();o=o-80}else{o=e(t).height()}i.css({height:o})})}else if(n.height=="auto"){i.css({height:"100%"})}else{o=n.height;i.css({height:o})}e(".aSlide").each(function(){var t=this.getAttribute("data-imgSrc");e(this).css({"background-image":"url("+t+")","background-position":"center","background-size":"cover"})});if(n.thumbnails==true){i.after('<div class="thumbnails" />');var u=i.next();i.children(".aSlide").each(function(){e(this).clone().removeClass("aSlide").removeClass("slideActive").addClass("thumbs").css({"background-size":"cover","background-repeat":"no-repeat"}).appendTo(u)});i.next(".thumbnails").children(".thumbs:first").addClass("thumbsActive")}if(n.navigation==true){i.prepend('<div class="nextButton" /><div class="prevButton" />');e(function(){function e(e){var t=i.children(".slideActive"),r=i.children(".slideActive").index();if(i.children(".progress").children().is(":animated")){i.children(".progress").children().finish()}else if(i.children(".aSlide").is(":animated")){}else{t.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}}function t(e){var t=i.children(".slideActive"),r=i.children(".slideActive").index();if(i.children(".progress").children().is(":animated")){i.children(".progress").children().stop();l.css({width:"",opacity:""});t.prevSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}else if(i.children(".aSlide").is(":animated")){}else{t.prevSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}}i.on("swipeleft",e);i.on("swiperight",t)})}if(n.overlayer==true){i.prepend('<div class="overlayer" />')}if(n.autoPlay==true||n.pausePlayOnClick==true){i.children(".nextButton, .prevButton").css("bottom","11px");i.prepend('<div class="progress"><div class="progressBar" /></div')}if(n.autoPlay==true){var a=i.children(".slideActive"),f=i.children(".slideActive").index(),l=i.children(".progress").children();l.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){a.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);l.css({width:"",opacity:""})});var c=setInterval(function(){l.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){var e=i.children(".slideActive"),t=i.children(".slideActive").index();e.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);l.css({width:"",opacity:""})})},n.time)}if(n.pausePlayOnClick==true){var h,l=i.children(".progress").children();if(n.autoPlay==true){h=true}else{h=false}i.children().not(".nextButton, .prevButton").click(function(){if(h==true){l.stop();l.css({width:"",opacity:"0"});c=t.clearInterval(c);h=false}else{var e=i.children(".slideActive"),r=i.children(".slideActive").index();l.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){e.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);l.css({width:"",opacity:""})});c=setInterval(function(){l.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){var e=i.children(".slideActive"),t=i.children(".slideActive").index();e.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);l.css({width:"",opacity:""})})},n.time);h=true}})}e(".thumbs").click(function(){var r=e(this).parent().prev(".slideIt"),i=r.children(".aSlide").eq(e(this).index()),s=r.children(".slideActive"),o=r.children(".slideActive").index(),u=r.children(".progress").children();if(e(this).hasClass("thumbsActive")){return false}if(r.children(".aSlide:animated").length){return false}if(u.parent().children(".progressBar:animated").length!=0){u.stop();u.css({width:"",opacity:"0"});c=t.clearInterval(c);s.fadeOut(n.transitionTime,function(){s.removeClass("slideActive")});i.fadeIn(n.transitionTime,function(){i.addClass("slideActive");if(n.pausePlayOnClick==true||n.autoPlay==true){var e=r.children(".slideActive"),t=r.children(".slideActive").index();u.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){e.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);u.css({width:"",opacity:""})});c=setInterval(function(){u.animate({width:"100%",opacity:1},n.time,"easeInOutCubic",function(){var e=r.children(".slideActive"),t=r.children(".slideActive").index();e.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50);u.css({width:"",opacity:""})})},n.time);h=true}})}else{s.fadeOut(n.transitionTime,function(){s.removeClass("slideActive")});i.fadeIn(n.transitionTime,function(){i.addClass("slideActive")})}p(n.transitionTime+50)});e(".nextButton").click(function(){var t=e(this).parent(),r=t.children(".slideActive"),i=t.children(".slideActive").index();if(t.children(".progress").children().is(":animated")){t.children(".progress").children().finish()}else if(t.children(".aSlide").is(":animated")){}else{r.nextSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}});e(".prevButton").click(function(){var t=e(this).parent(),r=t.children(".slideActive"),i=t.children(".slideActive").index();if(t.children(".progress").children().is(":animated")){t.children(".progress").children().stop();l.css({width:"",opacity:""});r.prevSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}else if(t.children(".aSlide").is(":animated")){}else{r.prevSlide(n.transitionTime,n.easing);p(n.transitionTime+50)}});e.fn.nextSlide=function(t,n){var r=e(this),i=e(this).parent(),s=i.children(".aSlide:first"),o=r.index()-i.children().not(".aSlide").length,u=i.next(".thumbnails").children(".thumbsActive").index(),a=i.children(".aSlide").length,f=r.next();if(o===a-1){s.show().css({right:"-100%"});r.animate({right:"100%"},t,n,function(){r.removeClass("slideActive").hide().css({right:0})});s.animate({right:0},t,n,function(){s.addClass("slideActive")})}else{f.show().css({right:"-100%"});r.animate({right:"100%"},t,n,function(){r.removeClass("slideActive").hide().css({right:0})});f.animate({right:0},t,n,function(){f.addClass("slideActive")})}};e.fn.prevSlide=function(t,n){var r=e(this),i=e(this).parent(),s=i.children(".aSlide:last"),o=r.index()-i.children().not(".aSlide").length,u=i.next(".thumbnails").children(".thumbsActive").index(),a=r.prev();if(o===0){s.show().css({right:"100%"});r.animate({right:"-100%"},t,n,function(){r.removeClass("slideActive").hide().css({right:0})});s.animate({right:0},t,n,function(){s.addClass("slideActive")})}else{a.show().css({right:"100%"});r.animate({right:"-100%"},t,n,function(){r.removeClass("slideActive").hide().css({right:0})});a.animate({right:0},t,n,function(){a.addClass("slideActive")})}}}})(jQuery,window)
